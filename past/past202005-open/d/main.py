#!/usr/bin/env python3
import numpy as np

N = int(input().split()[0])
s_map = []

n_0 = np.array([[1, 1, 1, 0], [1, 0, 1, 0], [1, 0, 1, 0], [1, 0, 1, 0], [1, 1, 1, 0]])
n_1 = np.array([[0, 1, 0, 0], [1, 1, 0, 0], [0, 1, 0, 0], [0, 1, 0, 0], [1, 1, 1, 0]])
n_2 = np.array([[1, 1, 1, 0], [0, 0, 1, 0], [1, 1, 1, 0], [1, 0, 0, 0], [1, 1, 1, 0]])
n_3 = np.array([[1, 1, 1, 0], [0, 0, 1, 0], [1, 1, 1, 0], [0, 0, 1, 0], [1, 1, 1, 0]])
n_4 = np.array([[1, 0, 1, 0], [1, 0, 1, 0], [1, 1, 1, 0], [0, 0, 1, 0], [0, 0, 1, 0]])
n_5 = np.array([[1, 1, 1, 0], [1, 0, 0, 0], [1, 1, 1, 0], [0, 0, 1, 0], [1, 1, 1, 0]])
n_6 = np.array([[1, 1, 1, 0], [1, 0, 0, 0], [1, 1, 1, 0], [1, 0, 1, 0], [1, 1, 1, 0]])
n_7 = np.array([[1, 1, 1, 0], [0, 0, 1, 0], [0, 0, 1, 0], [0, 0, 1, 0], [0, 0, 1, 0]])
n_8 = np.array([[1, 1, 1, 0], [1, 0, 1, 0], [1, 1, 1, 0], [1, 0, 1, 0], [1, 1, 1, 0]])
n_9 = np.array([[1, 1, 1, 0], [1, 0, 1, 0], [1, 1, 1, 0], [0, 0, 1, 0], [1, 1, 1, 0]])
n_list = [n_0, n_1, n_2, n_3, n_4, n_5, n_6, n_7, n_8, n_9]

for _ in range(5):
    s = input()
    s = [0 if x == "." else 1 for x in s]
    s_map.append(s[1:])

s_array = np.array(s_map)
s_list = np.split(s_array, N, 1)

ans = ""
for s in s_list:
    for i, n in enumerate(n_list):
        if np.allclose(s, n):
            break
    ans += str(i)

print(ans)
